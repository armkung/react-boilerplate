!function(e){function n(n){for(var r,o,u=n[0],c=n[1],l=n[2],f=0,d=[];f<u.length;f++)o=u[f],a[o]&&d.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(s&&s(n);d.length;)d.shift()();return i.push.apply(i,l||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],r=!0,u=1;u<t.length;u++){var c=t[u];0!==a[c]&&(r=!1)}r&&(i.splice(n--,1),e=o(o.s=t[0]))}return e}var r={},a={1:0},i=[];function o(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=r,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="/";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=n,u=u.slice();for(var l=0;l<u.length;l++)n(u[l]);var s=c;i.push([627,0]),t()}({107:function(e,n,t){"use strict";t.d(n,"b",function(){return a}),t.d(n,"a",function(){return i});var r=t(6),a=function(e){for(var n=e;!Object(r.i)(Object(r.f)(n));)n=Object(r.f)(n);return n},i=function(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.op&&t.path?e.getSnapshot?e.getSnapshot():Object(r.h)(e):n}}},246:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var r=regeneratorRuntime.mark(a);function a(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},r,this)}},247:function(e,n,t){"use strict";var r=t(43);n.a={ui:Object(r.c)({isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"SHOW_LOADING":return!0;case"HIDE_LOADING":return!1;default:return e}}})}},249:function(e,n,t){"use strict";(function(e){var r=t(248),a=t(77),i=Object(r.a)(function(n){var t=n.form;return e.createElement("div",null,t.getFields().map(function(n){return e.createElement("div",{key:n.key},n.section.label,":",n.label,":",n.options?e.createElement("select",null,n.options.map(function(n,t){return e.createElement("option",{key:t},JSON.stringify(n))})):e.createElement("input",{disabled:n.hidden,value:n.value,onChange:function(e){return n.setValue(e.target.value)}}))}),e.createElement("button",{onClick:t.insured.save},"Save Insured"),e.createElement("button",{onClick:t.insured.load},"Load Insured"),e.createElement("div",{style:{whiteSpace:"pre"}},JSON.stringify(t.getSnapshot(),null,4)))});n.a=function(){return e.createElement(i,{form:a.a})}}).call(this,t(2))},250:function(e,n,t){"use strict";(function(e){var r=t(249);n.a=function(){return e.createElement(r.a,null)}}).call(this,t(2))},255:function(e,n,t){"use strict";(function(e){var r=t(154),a=t(250);n.a=e.createElement(r.a,null,e.createElement(r.b,{path:"/",component:a.a}))}).call(this,t(2))},264:function(e,n){},427:function(e,n,t){"use strict";t.r(n),function(e){var n=t(60),r=t.n(n),a=t(263),i=t(244),o=t(43),u=t(245),c=t(6),l=t(107),s=t(77),f=t(255),d=t(247),p=t(246);t(264);function v(){return(v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var h=Object(o.c)(v({},d.a,{form:Object(l.a)(s.a)})),m=o.d;var b=Object(u.a)(),g=Object(o.e)(h,m(Object(o.a)(b)));b.run(p.a),function(e){Object(c.j)(s.a,function(n){e.dispatch(v({type:"PATCH_FORM"},n))})}(g);r.a.render(e.createElement(a.AppContainer,null,e.createElement(i.a,{store:g},f.a)),document.getElementById("app"))}.call(this,t(2))},627:function(e,n,t){t(626),e.exports=t(427)},77:function(e,n,t){"use strict";var r=t(80),a=t.n(r),i=t(106),o=t.n(i),u=t(19),c=t.n(u),l=t(261),s=t.n(l),f=t(78),d=t.n(f),p=t(109),v=t.n(p),h=t(105),m=t.n(h),b=t(260),g=t.n(b),O=t(79),j=t.n(O),y=t(259),k=t.n(y),w=t(258),S=t.n(w),E=t(6),P=g.a.convert({cap:!1}),x=o.a.convert({cap:!1}),I=E.k.model("form",{}).views(function(e){var n=c()(v.a,P(c()(j()("fields"),v.a))),t=c()(v.a,k()("pageId")),r=d()(c()(j()("hidden"),S()(!0)));return{getPages:function(){return t(e)},getFields:function(){return n(e)},getSnapshot:function(){return c()(E.h,r,x(c()(j()("fields"),x(c()(r,j()("value"))))))(e)}}}).actions(function(e){return{postProcessSnapshot:d()(m.a),setFieldValue:function(n,t,r){e[n].fields[t]&&e[n].fields[t].setValue(r)}}}),A=t(257),N=t.n(A),V=t(256),_=t.n(V),F=c()(_()("_"),N.a),C=E.k.model("fields",{}).actions(function(e){return{postProcessSnapshot:d()(m.a)}}),D=E.k.model("section",{id:E.k.string,fields:C,hidden:!1}).volatile(function(e){return{prevSnapshot:null,pageId:F(e.id)}}).actions(function(e){return{save:function(){e.prevSnapshot=Object(E.h)(e)},load:function(){e.prevSnapshot&&Object(E.c)(e,e.prevSnapshot)},setFieldValue:function(n,t){e.fields[n]&&e.fields[n].setValue(t)},hide:function(){e.hidden=!0},show:function(){e.hidden=!1}}});var J,R,L=o.a.convert({cap:!1}),H=c()(a()("id"),L(function(e){var n=e.id,t=e.fields,r=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,["id","fields"]);return D.props({id:n,fields:C.props(a()("name",t))}).volatile(function(){return r})})),M=c()(a()("id"),L(s()("fields",c()(a()("name"),L(function(e){return e.create({id:e.name}).toJSON()}))))),G=t(107),T=E.k.model("field",{id:E.k.string,value:E.k.union(E.k.undefined,E.k.string,E.k.number),hidden:!1}).volatile(function(){return{key:""}}).actions(function(e){return{afterAttach:function(){e.section=Object(G.b)(e),e.key="".concat(e.section.id,".").concat(e.id)},hide:function(){e.hidden=!0},show:function(){e.hidden=!1},setValue:function(n){e.value=n}}}),B=T.props({value:""}),W=T.props({value:E.k.maybe(E.k.model("option",{value:E.k.union(E.k.string,E.k.number)}))}).volatile(function(){return{options:[]}}).actions(function(e){return{afterAttach:Object(E.d)(regeneratorRuntime.mark(function n(){var t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=Object(E.e)(e),r=t.getData,n.next=3,r();case 3:e.options=n.sent,e.setValue(e.options[0]);case 5:case"end":return n.stop()}},n,this)}))}}),q=W.named("province"),z=B.named("firstName").actions(function(e){return{afterAttach:function(){var n=Object(E.g)(e),t=e.section;Object(E.a)(e,Object(E.j)(e,function(r){e.value&&e.value.length>3&&(e.hide(),n.insured_address.hide()),n.setFieldValue(t.id,"lastName",e.value),t.setFieldValue("age",e.value)}))}}}),K=B.named("lastName").actions(function(e){return{afterCreate:function(){Object(E.a)(e,Object(E.b)(e,function(e,n){return"setValue"===e.name&&""===e.args[0]&&(e.args[0]=e.context.value),n(e)}))}}}),Q=[{id:"insured",label:"Insured",fields:[z.volatile(function(){return{label:"FirstName"}}),K.volatile(function(){return{label:"FirstName"}}),B.named("age").volatile(function(){return{label:"Age"}})]},{id:"insured_address",label:"Insured Address",fields:[q.volatile(function(){return{label:"Province"}}),W.named("amphur").volatile(function(){return{label:"Amphur"}})]}];n.a=(J=Q,R={getData:function(){return new Promise(function(e){setTimeout(function(){e([{value:10}])},1e3)})}},I.props(H(J)).create(M(J),R))}});
//# sourceMappingURL=app.d6dc20857bb8f6a48b13.js.map